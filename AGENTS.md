# О проекте

**Название:** vlm-ocr-doc-reader (универсальный модуль работы с документами)

**Описание:** Универсальный Python-пакет для работы с документами через Vision Language Models (VLM) и OCR. Гибридный подход — VLM для понимания контекста + OCR для точности извлечения данных. Пакет предоставляет унифицированный интерфейс для разных VLM/OCR моделей и поддерживает анализ больших документов (сотни страниц).

**Цель:** Создать универсальный переиспользуемый модуль для извлечения структурированных данных из PDF/изображений. Пакет должен легко интегрироваться в различные проекты (аудит, регламенты, контракты) и поддерживать расширение через добавление новых VLM/OCR клиентов без изменения основного API.

---

# Роли агентов в проекте

В проекте предусмотрены следующие роли:

## Launcher (Инициализатор проекта)
- **Запускается:** Один раз при создании проекта
- **Задача:** Клонирует структуру, заполняет AGENTS.md, запускает Architect
- **Файлы:** Этот файл (AGENTS.md), README.md

## Architect (Архитектор)
- **Запускается:** При обсуждении архитектуры, архитектурных решениях, эскалации от Tech Lead
- **Задача:** Создает архитектуру системы (overview.md), принимает архитектурные решения (ADR). **НЕ** ведет backlog, **НЕ** создает задачи, **НЕ** принимает работу.
- **Файлы:** `.agents/architect.md`

## Tech Lead (Технический лидер)
- **Запускается:** После создания архитектуры Architect, при приемке работ, эскалации от Analyst/Reviewer
- **Задача:** Создает план реализации (implementation_plan.md), **ведет backlog.md**, **создает задачи (task_brief)**, проектирует интерфейсы, **принимает выполненную работу**
- **Файлы:** `.agents/tech-lead.md`

## Analyst (Аналитик)
- **Запускается:** После получения постановки от Tech Lead или замечаний от Reviewer
- **Задача:** Создает детальное техническое задание для Developer с учетом implementation plan. Эскалирует к Tech Lead (план) или Architect (архитектура).
- **Файлы:** `.agents/analyst.md`

## Developer (Разработчик)
- **Запускается:** После получения технического задания от Analyst
- **Задача:** Пишет код, создает отчет о реализации
- **Файлы:** `.agents/developer.md`

## Reviewer (Ревьюер)
- **Запускается:** После завершения реализации Developer
- **Задача:** Проверяет код на соответствие ТЗ и стандартам, создает отчет. Передает **Tech Lead** для приемки.
- **Файлы:** `.agents/reviewer.md`

---

# Навигация по структуре проекта

## ⚠️ ВАЖНО: Читай только релевантное для твоей роли!

**Не читай все подряд!** Каждая роль имеет свой набор файлов. Чтение лишнего забивает контекст.

**Если ты не знаешь свою роль** - спроси у пользователя: "Какую роль мне выполнять?"

---

## Что читают ВСЕ агенты

Обязательно для всех ролей:

```
AGENTS.md                              # Этот файл - обзор проекта
00_docs/standards/common/              # Общие стандарты для всех
├── structure.md                       # Структура проекта
└── handoff-protocol.md                # Передача между агентами
```

---

## Что читает Architect

```
.agents/architect.md                   # Описание роли
AGENTS.md                              # Этот файл
00_docs/standards/common/*             # Общие стандарты
00_docs/standards/architect/*          # Стандарты для Architect
00_docs/architecture/                  # Архитектурные документы
├── overview.md                        # Общая архитектура (создает/обновляет)
├── decision_NNN_*.md                  # ADR - архитектурные решения (создает)
└── _questions_architect.md            # Вопросы от Tech Lead (читает при эскалации)
```

---

## Что читает Tech Lead

```
.agents/tech-lead.md                   # Описание роли
AGENTS.md                              # Этот файл
00_docs/standards/common/*             # Общие стандарты
00_docs/standards/tech-lead/*          # Стандарты для Tech Lead
00_docs/backlog.md                     # Реестр задач (создает/ведет/обновляет)
00_docs/architecture/                  # Архитектурные документы
├── overview.md                        # Общая архитектура (читает)
├── decision_NNN_*.md                  # ADR - архитектурные решения (читает)
├── implementation_plan.md             # План реализации (создает)
└── _questions_architect.md            # Вопросы к Architect (создает если нужно)
01_tasks/NNN_*/                        # Папки задач
├── task_brief_01.md                   # Постановки задач (создает)
├── review_NN.md                       # Отчеты проверки (читает при приемке)
└── _questions_tech_lead.md            # Вопросы от Analyst (читает)
```

---

## Что читает Analyst

```
.agents/analyst.md                     # Описание роли
AGENTS.md                              # Этот файл
00_docs/standards/common/*             # Общие стандарты
00_docs/standards/analyst/*            # Стандарты для Analyst
00_docs/architecture/overview.md       # Общая архитектура
00_docs/architecture/implementation_plan.md # План реализации (релевантная часть)
00_docs/architecture/decision_NNN_*.md # Релевантные ADR (указаны в task_brief)
01_tasks/NNN_*/                        # Папка задачи
├── task_brief_01.md                   # Постановка от Tech Lead (читает)
├── analysis_NN.md                     # Техническое задание (создает/обновляет)
├── review_NN.md                       # Замечания Reviewer (читает при итерации)
├── _questions_tech_lead.md            # Вопросы для Tech Lead (создает если нужно)
└── _questions_architect.md            # Вопросы для Architect (создает если нужно)
02_src/                                # Исходный код (изучает существующий)
```

---

## Что читает Developer

```
.agents/developer.md                   # Описание роли
AGENTS.md                              # Этот файл
00_docs/standards/common/*             # Общие стандарты
00_docs/standards/developer/*          # Стандарты для Developer
00_docs/architecture/decision_NNN_*.md # Релевантные ADR (указаны в analysis)
01_tasks/NNN_*/                        # Папка задачи
├── task_brief_01.md                   # Исходная постановка (читает)
├── analysis_NN.md                     # Техническое задание (читает)
├── implementation_NN.md               # Отчет о реализации (создает)
├── review_NN.md                       # Замечания Reviewer (читает при итерации)
└── _questions_analyst.md              # Вопросы для эскалации (создает если нужно)
02_src/                                # Исходный код (создает/изменяет)
03_data/                               # Данные (читает/создает если нужно)
```

---

## Что читает Reviewer

```
.agents/reviewer.md                    # Описание роли
AGENTS.md                              # Этот файл
00_docs/standards/common/*             # Общие стандарты
00_docs/standards/reviewer/*           # Стандарты для Reviewer
00_docs/architecture/decision_NNN_*.md # Релевантные ADR (указаны в task_brief/analysis)
01_tasks/NNN_*/                        # Папка задачи
├── task_brief_01.md                   # Исходная постановка (читает)
├── analysis_NN.md                     # Техническое задание (читает)
├── implementation_NN.md               # Отчет Developer (читает)
└── review_NN.md                       # Отчет о проверке (создает)
02_src/                                # Исходный код (читает для проверки)
```

---

## Рабочие папки проекта

### 01_tasks/ - Задачи
Каждая задача в отдельной папке `NNN_название/` (NNN = 001, 002, 003...)

**Файлы задачи:**
- `task_brief_01.md` - постановка от Tech Lead
- `analysis_NN.md` - техническое задание от Analyst
- `implementation_NN.md` - отчет Developer
- `review_NN.md` - отчет Reviewer
- `_questions_*.md` - служебные файлы для эскалации

### 02_src/ - Исходный код
Структура определяется проектом. Developer создает и изменяет код здесь.

### 03_data/ - Данные
**Назначение:** Исходные данные и результаты работы алгоритмов

**Структура:** Папки нумеруются `NN_название/` по той же конвенции что и задачи

**Что здесь:**
- Исходные файлы для обработки (например, CSV, JSON, изображения)
- Результаты работы алгоритмов (обработанные данные)
- Промежуточные данные если нужно

**Когда использовать:**
- Developer читает исходные данные для тестирования
- Developer создает папки с результатами работы алгоритмов
- Данные версионируются в git (если не слишком большие)

**Пример структуры:**
```
03_data/
├── 01_source_files/          # Исходные данные
│   ├── dataset.csv
│   └── images/
├── 02_processed/             # Обработанные данные
│   └── cleaned_dataset.csv
└── 03_results/               # Результаты работы
    └── analysis_output.json
```

### 04_logs/ - Логи
**Назначение:** Рабочие логи для отслеживания работы алгоритмов

**Что здесь:**
- Логи выполнения программ
- Отладочная информация
- Метрики производительности

**Когда использовать:**
- Developer настраивает логирование в коде
- Логи помогают при отладке и мониторинге
- Reviewer может проверять логи при review

**Пример структуры:**
```
04_logs/
├── app.log                   # Основной лог приложения
├── error.log                 # Логи ошибок
└── performance.log           # Метрики производительности
```
---

## Быстрый старт для агента

1. **Узнай свою роль** (из промпта или спроси пользователя)
2. **Прочитай AGENTS.md** (этот файл)
3. **Прочитай описание своей роли** (`.agents/[твоя_роль].md`)
4. **Прочитай общие стандарты** (`00_docs/standards/common/*`)
5. **Прочитай стандарты своей роли** (`00_docs/standards/[твоя_роль]/*`)
6. **Прочитай файлы задачи** (указаны в промпте)
7. **Выполни задачу** согласно инструкциям в описании роли
