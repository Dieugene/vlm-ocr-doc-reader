# Протокол передачи между агентами

Общие правила передачи задач и контекста между агентами.

## Формат промптов передачи

Все промпты должны быть **лаконичными** (5-10 строк):

```
Ты — агент [Role] (см. .agents/[role].md).

Прочитай:
- .agents/[role].md
- [конкретный файл 1]
- [конкретный файл 2]
- [конкретный файл 3]

Задача: [Краткая формулировка что делать]

После завершения сообщи [Кому].
```

## Правила

### Явное указание файлов

❌ **Избегай:**
```markdown
Прочитай релевантные ADR
Изучи существующий код
```

✅ **Указывай явно:**
```markdown
Прочитай:
- 00_docs/architecture/decision_003_api.md
- 02_src/module_a/handler.py - существующая реализация
```

### НЕ дублируй содержимое

**Только пути к файлам**, не содержимое.

Промпт для копирования пользователем - файлы читает следующий агент.

### Укажи следующий шаг

```markdown
После завершения сообщи [Кому].
```

Примеры:
- "После завершения сообщи Architect"
- "После завершения сообщи результат"
- "После завершения сформируй промпт для Reviewer"

## Смена агента в той же роли

Для смены агента (при заполнении контекста) используй слеш-команду:

```
/project:handoff-role
```

Она создаст файл передачи дел и промпт для преемника.
